<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ERC-20 Token Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@6.6.4/dist/ethers.min.js"></script>
  </head>
  <body class="bg-gray-900 text-white flex items-center justify-center h-screen">
    <div class="text-center space-y-6 p-8 max-w-md w-full bg-gray-800 rounded-xl shadow-2xl">
      <h1 class="text-3xl font-bold text-indigo-400">ðŸš€ ERC-20 Token Demo</h1>

      <button
        onclick="connect()"
        class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-6 rounded-full transition"
      >
        Connect Wallet
      </button>
      <p id="account" class="text-sm text-green-300"></p>

      <button
        onclick="getBalance()"
        class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full transition"
      >
        Check Balance
      </button>
      <p id="balance" class="text-yellow-300 text-lg"></p>
    </div>

    <script>
      let provider, signer, contract;
      const tokenAddress = "0xc33f43143258d563384e171362581ed6a7b141ce";

      async function connect() {
        if (window.ethereum) {
          provider = new ethers.BrowserProvider(window.ethereum);
          signer = await provider.getSigner();
          const account = await signer.getAddress();
          document.getElementById("account").innerText = "Connected: " + account;

          const response = await fetch("abi.json");
          const abi = await response.json();
          contract = new ethers.Contract(tokenAddress, abi, signer);
        } else {
          alert("MetaMask not found. Please install it.");
        }
      }

      async function getBalance() {
        if (!contract) return alert("Connect wallet first");
        const account = await signer.getAddress();
        const balance = await contract.balanceOf(account);
        const decimals = await contract.decimals();
        const adjusted = balance / 10 ** decimals;
        document.getElementById("balance").innerText = "Balance: " + adjusted;
      }
    </script>
  </body>
</html>
